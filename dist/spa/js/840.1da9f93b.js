"use strict";(globalThis["webpackChunktravel_rover_vue_frontend"]=globalThis["webpackChunktravel_rover_vue_frontend"]||[]).push([[840],{3840:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var r=a(9835);const o=e=>((0,r.dD)("data-v-3538f7e7"),e=e(),(0,r.Cn)(),e),i={class:"row"},n={class:"col q-pa-md"},s=o((()=>(0,r._)("div",{class:"text-bold row sectionheading"},"Place Name",-1))),l=o((()=>(0,r._)("div",{class:"text-bold row sectionheading"},"Place Description",-1))),d={class:"q-pt-sm"},p=o((()=>(0,r._)("div",{class:"text-bold sectionheading row"},"Itinerary Name",-1))),c={class:"row"},u={class:"col-6"},_=o((()=>(0,r._)("div",{class:"text-bold row sectionheading"},"Start Date",-1))),m={class:"row items-center justify-end"},y={class:"col-6"},h=o((()=>(0,r._)("div",{class:"text-bold row sectionheading"},"Number of Days",-1))),v=o((()=>(0,r._)("div",{class:"sectionheading",style:{"font-size":"large"}},"Itinerary",-1))),g=o((()=>(0,r._)("br",null,null,-1))),f=(0,r.Uk)("Add day"),w=o((()=>(0,r._)("br",null,null,-1))),W={class:"col-6 q-pa-md",style:{"background-color":"#4B5563"}},k={style:{"background-color":"transparent"}},$=(0,r.Uk)("Save Itinerary");function x(e,t,a,o,x,b){const V=(0,r.up)("q-select"),U=(0,r.up)("q-input"),I=(0,r.up)("q-uploader"),Z=(0,r.up)("q-btn"),q=(0,r.up)("q-date"),D=(0,r.up)("q-popup-proxy"),Q=(0,r.up)("q-icon"),C=(0,r.up)("DayEditor"),P=(0,r.up)("PicturedWYISG"),S=(0,r.up)("q-scroll-area"),A=(0,r.up)("ItineraryPreview"),N=(0,r.Q2)("close-popup");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(S,{class:"col-6 q-pa-md",style:{height:"100vh"}},{default:(0,r.w5)((()=>[(0,r._)("div",n,[s,(0,r.Wm)(V,{outlined:"",modelValue:b.place_name,"onUpdate:modelValue":t[0]||(t[0]=e=>b.place_name=e),options:["Ladakh","Himalayas"]},null,8,["modelValue"]),l,(0,r.Wm)(U,{class:"row",outlined:"",modelValue:b.place_description,"onUpdate:modelValue":t[1]||(t[1]=e=>b.place_description=e)},null,8,["modelValue"]),(0,r._)("div",d,[(0,r.Wm)(I,{bordered:"",color:"white","text-color":"grey",url:"http://admin.travelrover.in/travel-rover/api-files/",style:{},"auto-upload":"",label:"Add image if any","field-name":"file",onUploaded:b.place_file_uploaded},null,8,["onUploaded"])]),p,(0,r.Wm)(U,{class:"row",outlined:"",modelValue:b.itinerary_name,"onUpdate:modelValue":t[2]||(t[2]=e=>b.itinerary_name=e)},null,8,["modelValue"]),(0,r._)("div",c,[(0,r._)("div",u,[_,(0,r.Wm)(U,{class:"row",filled:"",modelValue:b.start_date,"onUpdate:modelValue":t[4]||(t[4]=e=>b.start_date=e),mask:"date",rules:["date"]},{append:(0,r.w5)((()=>[(0,r.Wm)(Q,{name:"event",class:"cursor-pointer"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{modelValue:e.date,"onUpdate:modelValue":t[3]||(t[3]=t=>e.date=t)},{default:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r.wy)((0,r.Wm)(Z,{label:"Close",color:"primary",flat:""},null,512),[[N]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,r._)("div",y,[h,(0,r.Wm)(U,{class:"row",outlined:"",modelValue:e.text,"onUpdate:modelValue":t[5]||(t[5]=t=>e.text=t)},null,8,["modelValue"])])]),v,g,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(b.days,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"",key:t},[(0,r.Wm)(C,{day_index:t,day_content:e.description,day_images:e.images},null,8,["day_index","day_content","day_images"])])))),128)),(0,r.Wm)(Z,{class:"row",onClick:t[6]||(t[6]=e=>b.days_add())},{default:(0,r.w5)((()=>[f])),_:1}),w,(0,r.Wm)(P,{property_key:"places_to_visit",heading:"Places to Visit"}),(0,r.Wm)(P,{property_key:"accomodation_arrangements",heading:"Accomodation Arrangements"}),(0,r.Wm)(P,{property_key:"travel_arrangements",heading:"Travel Arrangements"}),(0,r.Wm)(P,{property_key:"inclusions",heading:"Inclusions"}),(0,r.Wm)(P,{property_key:"exclusions",heading:"Exclusions"}),(0,r.Wm)(P,{property_key:"terms_and_conditions",heading:"Terms and Conditions"}),(0,r.Wm)(P,{property_key:"cancellations_policy",heading:"Cancellations Policy"}),(0,r.Wm)(P,{property_key:"things_to_carry",heading:"Things to Carry"}),(0,r.Wm)(P,{property_key:"tour_rates",heading:"Tour Rates"})])])),_:1}),(0,r._)("div",W,[(0,r._)("div",k,[(0,r.Wm)(Z,{"text-color":"white",icon:"print",onClick:t[7]||(t[7]=t=>e.print())}),(0,r.Wm)(Z,{"text-color":"white",class:"",onClick:t[8]||(t[8]=t=>e.save_itinerary())},{default:(0,r.w5)((()=>[$])),_:1})]),(0,r.Wm)(S,{style:{height:"100vh"}},{default:(0,r.w5)((()=>[(0,r.Wm)(A)])),_:1})])])}var b=a(6970);const V={class:"text-bold sectionheading",style:{"font-size":"large"}};function U(e,t,a,o,i,n){const s=(0,r.up)("q-editor"),l=(0,r.up)("q-uploader");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",V,"Day "+(0,b.zw)(a.day_index+1),1),(0,r.Wm)(s,{modelValue:n.day_content_store,"onUpdate:modelValue":t[0]||(t[0]=e=>n.day_content_store=e),toolbar:[["bold","italic"],["ordered"]]},null,8,["modelValue"]),(0,r.Wm)(l,{color:"grey",url:"http://admin.travelrover.in/travel-rover/api-files/",style:{},"auto-upload":"",label:"Add image if any","field-name":"file",onUploaded:n.day_img_update},null,8,["onUploaded"])])}const I={name:"day-editor",props:["day_index","day_content","day_images","day_obj"],setup(){return{details:""}},model:{prop:"day_content",event:"day_content_change"},methods:{day_img_update:function(e){var t=JSON.parse(e.xhr.response).file;t="http://admin.travelrover.in"+t;var a=this.day_index,r={index_day:a,value:t};console.log(r),this.$store.commit("day_img_update",r)}},computed:{day_content_store:{get:function(){return this.$store.state.itinerary_preview.days[this.day_index].description},set:function(e){var t=this.day_index,a={index_day:t,value:e};this.$store.commit("day_content_update",a)}}}};var Z=a(1639),q=a(9879),D=a(7534),Q=a(9984),C=a.n(Q);const P=(0,Z.Z)(I,[["render",U],["__scopeId","data-v-9eed1fe2"]]),S=P;C()(I,"components",{QEditor:q.Z,QUploader:D.Z});var A=a(2893);const N={class:""},T={class:"q-ma-sm sectionheading"};function E(e,t,a,o,i,n){const s=(0,r.up)("q-editor"),l=(0,r.up)("q-uploader");return(0,r.wg)(),(0,r.iD)("div",N,[(0,r._)("div",T,(0,b.zw)(a.heading),1),(0,r.Wm)(s,{class:"",modelValue:n.property_content_store,"onUpdate:modelValue":t[0]||(t[0]=e=>n.property_content_store=e),"min-height":"5rem",toolbar:[["bold","italic"],["ordered"]]},null,8,["modelValue"]),(0,r.Wm)(l,{style:{},url:"http://admin.travelrover.in/travel-rover/api-files/","auto-upload":"",label:"Add image if any","field-name":"file",onUploaded:n.property_img_update},null,8,["onUploaded"])])}const z={name:"PicturedWYISG",props:["heading","property_key"],methods:{property_img_update:function(e){var t=JSON.parse(e.xhr.response).file;t="http://admin.travelrover.in"+t,this.$store.commit(this.property_key+"_img_update",t)}},computed:{property_content_store:{get:function(){return this.$store.state.itinerary_preview[this.property_key]},set:function(e){var t=this.property_key+"_update";this.$store.commit(t,e),console.log(this.$store.state)}},property_file_store:{get:function(){var e=this.property_key+"_img";return this.$store.state.itinerary_preview[e]},set:function(e){var t=this.property_key+"_update_img";this.$store.commit(t,e)}}},setup(){return{editor:""}}},Y=(0,Z.Z)(z,[["render",E],["__scopeId","data-v-d40530f4"]]),B=Y;C()(z,"components",{QEditor:q.Z,QUploader:D.Z});a(6009);const F={name:"Itinary-Builder",components:{PicturedWYISG:B,ItineraryPreview:A["default"],DayEditor:S},setup(){return{}},methods:{place_file_uploaded:function(e){var t=JSON.parse(e.xhr.response).file;t="http://admin.travelrover.in"+t,this.$store.commit("place_img_update",t)},days_add:function(){console.log("add days called"),this.$store.commit("day_add",1),console.log(this.$store.state.itinerary_preview.days)},onSelectFile(){const e=this.$refs.fileInput,t=e.files;if(this.FileImage=t[0],t&&t[0]){const e=new FileReader;e.onload=e=>{this.imageData=e.target.result},e.readAsDataURL(t[0]),this.$emit("input",t[0])}console.log(this.imageData)},choosepicture(){this.$refs.fileInput.click()}},data(){return{imageData:null}},computed:{place_name:{set(e){this.$store.commit("place_name_update",e)},get(){return this.$store.state.itinerary_preview.place_name}},place_description:{set(e){this.$store.commit("place_description_update",e)},get(){return this.$store.state.itinerary_preview.place_description}},place_img:{set(e){this.$store.commit("place_img_update",e)},get(){return this.$store.state.itinerary_preview.place_img}},itinerary_name:{set(e){this.$store.commit("itinerary_name_update",e)},get(){return this.$store.state.itinerary_preview.itinerary_name}},start_date:{set(e){this.$store.commit("start_date_update",e)},get(){return this.$store.state.itinerary_preview.start_date}},itinerary_update:{set(e){this.$store.commit("itinerary_update",e)},get(){return this.$store.state.itinerary_preview}},days:{set(e){this.$store.commit("day_update",e)},get(){return this.$store.state.itinerary_preview.days}}},created(){console.log(this.days)}};var G=a(6663),J=a(4363),O=a(6611),R=a(4458),j=a(3190),H=a(335),L=a(2857),K=a(2765),M=a(7088),X=a(8879),ee=a(2146);const te=(0,Z.Z)(F,[["render",x],["__scopeId","data-v-3538f7e7"]]),ae=te;C()(F,"components",{QScrollArea:G.Z,QSelect:J.Z,QInput:O.Z,QUploader:D.Z,QCard:R.Z,QCardSection:j.Z,QImg:H.Z,QIcon:L.Z,QPopupProxy:K.Z,QDate:M.Z,QBtn:X.Z}),C()(F,"directives",{ClosePopup:ee.Z})}}]);